{% extends 'frontend/baseHTML.html' %}
{% block title %}
Hospital Stations Overview
{% endblock %}
{% block extra_css %}
    <style>
        .station-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .station-card:hover {
            transform: translateY(-5px);
        }

        .progress-container {
            background: #f0f0f0;
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease-in-out;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .metric {
            text-align: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .metric-value {
            font-size: 1.5em;
            font-weight: bold;
            margin: 5px 0;
        }

        .metric-label {
            color: #666;
            font-size: 0.9em;
        }

        .critical {
            background: #ff4444;
            color: white;
        }

        .warning {
            background: #ffd700;
        }

        .good {
            background: #00c851;
        }

        .station-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .station-name {
            font-size: 1.25em;
            font-weight: bold;
            color: #333;
        }

        .station-type {
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8em;
            background: #e9ecef;
            color: #495057;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .patient-list-toggle {
            width: 100%;
            text-align: center;
            padding: 10px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            margin-top: 15px;
            cursor: pointer;
            font-weight: 500;
            color: #495057;
            transition: background-color 0.2s;
        }

        .patient-list-toggle:hover {
            background: #e9ecef;
        }

        .patient-list {
            display: none;
            margin-top: 15px;
            border-top: 1px solid #dee2e6;
            padding-top: 15px;
        }

        .patient-list.show {
            display: block;
        }

        .patient-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 15px;
            align-items: center;
        }

        .patient-status {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-critical {
            background: #ff4444;
        }

        .status-stable {
            background: #00c851;
        }

        .status-observation {
            background: #ffd700;
        }

        .patient-info {
            display: flex;
            flex-direction: column;
        }

        .patient-name {
            font-weight: 500;
            color: #212529;
        }

        .patient-details {
            font-size: 0.9em;
            color: #6c757d;
        }

        .patient-actions {
            display: flex;
            gap: 8px;
        }

        .action-button {
            padding: 4px 8px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 0.8em;
            transition: background-color 0.2s;
        }

        .view-button {
            background: #e9ecef;
            color: #495057;
        }

        .view-button:hover {
            background: #dee2e6;
        }
    </style>
{% endblock %}
<body style="background: #f5f5f5; margin: 0; font-family: system-ui, -apple-system, sans-serif;">
{% block content %}
<div class="container">
    <h1 style="color: #333; margin-bottom: 30px;">Hospital Stations Overview</h1>
    <div class="grid">
        <div class="station-card">
            <div class="station-header">
                <span class="station-name">Internal Medicine</span>
                <span class="station-type">General Care</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar critical" style="width: 90%"></div>
            </div>
            <div class="metrics">
                <div class="metric">
                    <div class="metric-value">27/30</div>
                    <div class="metric-label">Occupied Beds</div>
                </div>
                <div class="metric">
                    <div class="metric-value">3</div>
                    <div class="metric-label">Free Beds</div>
                </div>
                <div class="metric">
                    <div class="metric-value">245</div>
                    <div class="metric-label">Care Minutes</div>
                </div>
            </div>
            <button class="patient-list-toggle" onclick="togglePatientList('internal-medicine')">
                Show Patient List
            </button>
            <div id="internal-medicine" class="patient-list">
                <div class="patient-card">
                    <div class="patient-status status-critical"></div>
                    <div class="patient-info">
                        <span class="patient-name">John Doe</span>
                        <span class="patient-details">Room 101 • Age 65 • Admitted: Oct 28</span>
                    </div>
                    <div class="patient-actions">
                        <button class="action-button view-button">View Details</button>
                    </div>
                </div>
                <div class="patient-card">
                    <div class="patient-status status-stable"></div>
                    <div class="patient-info">
                        <span class="patient-name">Jane Smith</span>
                        <span class="patient-details">Room 102 • Age 54 • Admitted: Oct 27</span>
                    </div>
                    <div class="patient-actions">
                        <button class="action-button view-button">View Details</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="station-card">
            <div class="station-header">
                <span class="station-name">Surgery</span>
                <span class="station-type">Post-Op</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar warning" style="width: 75%"></div>
            </div>
            <div class="metrics">
                <div class="metric">
                    <div class="metric-value">15/20</div>
                    <div class="metric-label">Occupied Beds</div>
                </div>
                <div class="metric">
                    <div class="metric-value">5</div>
                    <div class="metric-label">Free Beds</div>
                </div>
                <div class="metric">
                    <div class="metric-value">180</div>
                    <div class="metric-label">Care Minutes</div>
                </div>
            </div>
            <button class="patient-list-toggle" onclick="togglePatientList('surgery')">
                Show Patient List
            </button>
            <div id="surgery" class="patient-list">
                <div class="patient-card">
                    <div class="patient-status status-observation"></div>
                    <div class="patient-info">
                        <span class="patient-name">Robert Johnson</span>
                        <span class="patient-details">Room 201 • Age 45 • Post-Op Day 2</span>
                    </div>
                    <div class="patient-actions">
                        <button class="action-button view-button">View Details</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="station-card">
            <div class="station-header">
                <span class="station-name">Pediatrics</span>
                <span class="station-type">Children</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar good" style="width: 45%"></div>
            </div>
            <div class="metrics">
                <div class="metric">
                    <div class="metric-value">9/20</div>
                    <div class="metric-label">Occupied Beds</div>
                </div>
                <div class="metric">
                    <div class="metric-value">11</div>
                    <div class="metric-label">Free Beds</div>
                </div>
                <div class="metric">
                    <div class="metric-value">120</div>
                    <div class="metric-label">Care Minutes</div>
                </div>
            </div>
            <button class="patient-list-toggle" onclick="togglePatientList('pediatrics')">
                Show Patient List
            </button>
            <div id="pediatrics" class="patient-list">
                <div class="patient-card">
                    <div class="patient-status status-stable"></div>
                    <div class="patient-info">
                        <span class="patient-name">Sarah Wilson</span>
                        <span class="patient-details">Room 301 • Age 8 • Admitted: Oct 28</span>
                    </div>
                    <div class="patient-actions">
                        <button class="action-button view-button">View Details</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function togglePatientList(id) {
        const list = document.getElementById(id);
        const button = list.previousElementSibling;

        if (list.classList.contains('show')) {
            list.classList.remove('show');
            button.textContent = 'Show Patient List';
        } else {
            list.classList.add('show');
            button.textContent = 'Hide Patient List';
        }
    }

    function updateCapacityColors() {
        const progressBars = document.querySelectorAll('.progress-bar');
        progressBars.forEach((bar) => {
            const percentage = parseFloat(bar.style.width);
            if (percentage >= 90) {
                bar.className = 'progress-bar critical';
            } else if (percentage >= 70) {
                bar.className = 'progress-bar warning';
            } else {
                bar.className = 'progress-bar good';
            }
        });
    }

    updateCapacityColors();
    setInterval(updateCapacityColors, 5000);
</script>
{% endblock %}
</body>
</html>